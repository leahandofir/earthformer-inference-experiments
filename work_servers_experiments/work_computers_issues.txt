(leah) theator@timon:~/leah$ lsb_release -a
No LSB modules are available.
Distributor ID:	Ubuntu
Description:	Ubuntu 20.04.4 LTS
Release:	20.04
Codename:	focal
-------
16/05/2023
I tried to run the model as is and got the following error:
RuntimeError: CUDA out of memory. Tried to allocate 96.00 MiB (GPU 0; 7.79 GiB total capacity; 6.15 GiB already allocated; 85.50 MiB free; 6.17 GiB reserved in total by PyTorch) If reserved memory is >> allocated memory try setting max_split_size_mb to avoid fragmentation.  See documentation for Memory Management and PYTORCH_CUDA_ALLOC_CONF
Maybe we can ask to clear the cache?
tried to set total_batch_size=10 and micro_batch_size=1 and it worked.
-------
download from drive:
gdown https://drive.google.com/uc?id=12dQIKL8yHYDyTiNsNtB141o0pprOuAYr
-------
29/05/2023 - mount the disk from IMS commands (https://askubuntu.com/questions/177825/how-to-mount-an-external-hdd)
df -h # see mounted storage
sudo fdisk -l # see mounted and external storage
sudo mount -t ntfs /dev/sdb1 /media/leah # mount storage (create the directory /media/leah first)
du -sh # how much storage is in the current directory
cd /media/leah/ # the mounted directory
-------
see GPU status using nvidis-smi command
-------
run an experiment unattached to the ssh connection - in the ssh terminal:
screen (enter to open a new screen)
run your experiment (you can copy the command line from pycharm)
ctrl+a ctrl+d (detach)
scren -r (see all the proccess that were screened)
-------
30/07/2023
noticed we had the following bug in the code:
Traceback (most recent call last):
  File "/home/theator/.pyenv/versions/3.8.12/lib/python3.8/threading.py", line 932, in _bootstrap_inner
    self.run()
  File "/home/theator/.pyenv/versions/3.8.12/lib/python3.8/threading.py", line 870, in run
    self._target(*self._args, **self._kwargs)
  File "/home/theator/.pyenv/versions/leah/lib/python3.8/site-packages/wandb/filesync/step_upload.py", line 172, in _thread_body
    self._handle_event(event)
  File "/home/theator/.pyenv/versions/leah/lib/python3.8/site-packages/wandb/filesync/step_upload.py", line 236, in _handle_event
    self._start_upload_job(event)
  File "/home/theator/.pyenv/versions/leah/lib/python3.8/site-packages/wandb/filesync/step_upload.py", line 257, in _start_upload_job
    self._spawn_upload_sync(event)
  File "/home/theator/.pyenv/versions/leah/lib/python3.8/site-packages/wandb/filesync/step_upload.py", line 292, in _spawn_upload_sync
    self._pool.submit(run_and_notify)
  File "/home/theator/.pyenv/versions/3.8.12/lib/python3.8/concurrent/futures/thread.py", line 179, in submit
    raise RuntimeError('cannot schedule new futures after shutdown')
RuntimeError: cannot schedule new futures after shutdown
--------
copy files from nala to timon: (example)
scp /media/leah/logging/our_logs/version_3/checkpoints/last.ckpt theator@192.168.0.177:/home/theator/leah//last.ckpt
copy files from nala to local: (example)
scp theator@192.168.0.142:/media/leah/logging/our_logs/version_3/checkpoints/'model-epoch=028.ckpt' ./'model-epoch=028.ckpt'
